group 'de.tbressler.waterrower'
version '0.11.0'

apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = '9'
targetCompatibility = '9'

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {

    // Serial communication:
    compile group: 'io.netty', name: 'netty-all', version: '4.1.56.Final'

    // jSerialComm:
    compile group: 'com.fazecast', name: 'jSerialComm', version: '2.6.2'

    // Utils:
    compile group: 'com.google.guava', name: 'guava', version: '30.1-jre'

    // Logging:
    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.30'
    testCompile group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.30'


    // JUnit and tests:
    testCompile group: 'junit', name: 'junit', version: '4.13.1'
    testCompile group: 'org.mockito', name: 'mockito-all', version: '1.10.19'

}

jar {

    manifest {
        attributes  'Implementation-Title': 'WaterRower Core Library',
                    'Implementation-Version': archiveVersion,
                    'Implementation-Vendor': 'Tobias Bre√üler'
    }

    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }

}